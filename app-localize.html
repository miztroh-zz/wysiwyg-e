<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../app-localize-behavior/app-localize-behavior.html">
<dom-module id="app-localize">
	<template>
		<slot></slot>
	</template>
	<script>
		Polymer(
			{
				is: 'app-localize',
				behaviors: [
					Polymer.AppLocalizeBehavior
				],
				properties: {
					stringKey: {
						type: String,
						notify: true
					},
					param1Name: {
						type: String,
						value: '',
						notify: true
					},
					param1Value: {
						type: String,
						value: '',
						notify: true
					},
					localized: {
						type: String,
						readOnly: true,
						observer: '_localizedChanged',
						notify: true
					}
				},
				observers: [
					'_localize(resources, language, stringKey, param1Name, param1Value)'
				],
				ready: function () {
					this.async(this._textChanged, 100);
				},
				_localize: function () {
					this.async(
						function () {
							this._setLocalized(this.localize(this.stringKey, this.param1Name, this.param1Value));
						},
						100
					);
				},
				_localizedChanged: function () {
					this.textContent = this.localized;
				}
			}
		);
	</script>
</dom-module>
